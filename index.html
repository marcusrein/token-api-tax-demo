<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Graph Token API - Taxes and Accounting</title>
    <link rel="stylesheet" href="style.css">
    <!-- Lightweight-Charts for candlestick visualizations -->
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <!-- Load Chart.js and financial chart plugin for candlestick support -->
</head>
<body>
    <div class="intro-section">
        <h1>The Graph Token API - Taxes and Accounting</h1>
        <p>The Graph Token API is a powerful tool for developers, tax professionals, and accountants to get the data they need to calculate taxes and accounting for their clients.</p>
        <p>This demo is a simple example of how to use the Token API to get the data you need. It has hardcoded values for a few endpoints to get you started. Feel free to use different addresses and endpoints to test the API.</p>
        <p>Token API Docs: <a href="https://thegraph.com/docs/en/token-api/quick-start/">https://thegraph.com/docs/en/token-api/quick-start/</a></p>
    </div>

    <div class="controls-container">
        <!-- Left Column: Selectors -->
        <div class="controls-column left-column">
            <!-- Endpoint Selection -->
            <div class="form-group">
                <label for="endpointSelect">Select Endpoint:</label>
                <select id="endpointSelect">
                    <option value="balances">Latest Balances</option>
                    <option value="historical_balances" selected>Historical Balances</option>
                    <option value="transfers">Transfers by Wallet</option>
                    <option value="tokens">Token Metadata</option>
                    <option value="holders">Token Holders</option>
                    <option value="swaps">Swap Events</option>
                    <option value="pools">Liquidity Pools</option>
                    <option value="ohlc_pool">OHLCV by Pool</option>
                    <option value="ohlc_contract">OHLCV by Contract</option>
                </select>
            </div>
            <!-- Network Selection -->
            <div class="form-group">
                <label for="networkSelect">Select Network:</label>
                <select id="networkSelect">
                    <option value="mainnet" selected>Ethereum Mainnet</option>
                    <option value="base">Base</option>
                    <option value="matic">Polygon (Matic)</option>
                    <option value="arbitrum-one">Arbitrum One</option>
                    <option value="optimism">Optimism</option>
                    <option value="bsc">BNB Smart Chain (BSC)</option>
                    <option value="unichain">Unichain</option> <!-- Assuming this is correct -->
                    <!-- Add other supported networks as needed -->
                </select>
            </div>
             <!-- Endpoint Description -->
             <p class="endpoint-description" id="endpointDescription"></p>
        </div>

        <!-- Right Column: Inputs -->
        <div class="controls-column right-column">
            <!-- Input Fields -->
            <div class="form-group hidden" id="addressInputGroup">
                <label for="addressInput">Wallet Address:</label>
                <input type="text" id="addressInput" placeholder="0x...">
            </div>
            <span class="description-text hidden" id="addressDescription"></span>

            <div class="form-group hidden" id="poolInputGroup">
                <label for="poolInput">Pool Address:</label>
                <input type="text" id="poolInput" placeholder="0x...">
            </div>
            <span class="description-text hidden" id="poolDescription"></span>

             <div class="form-group hidden" id="contractInputGroup">
                <label for="contractInput">Contract Address:</label>
                <input type="text" id="contractInput" placeholder="0x...">
            </div>
            <span class="description-text hidden" id="contractDescription"></span>

            <!-- Helper text for endpoints without required inputs -->
            <p class="helper-text hidden" id="noInputHelper">This endpoint fetches general data. No specific address input required for this basic demo (uses selected network).</p>
        </div>
    </div> <!-- End controls-container -->

    <!-- Fetch Button (Moved Below Columns) -->
    <div class="form-group button-container" id="buttonGroup">
         <button id="fetchButton">Fetch Data</button>
    </div>

    <!-- Visual container for charts or tables -->
    <div id="visualContainer"></div>

    <!-- Response Area -->
    <h2>API Response:</h2>
    <pre id="responseArea">(No data fetched yet)</pre>

    <script src="script.js"></script>
</body>
</html> 